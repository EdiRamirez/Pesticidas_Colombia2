<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Data</title>
  <meta name="description" content="Data" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Data" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data" />
  
  
  

<meta name="author" content="" />


<meta name="date" content="2024-05-04" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">PREDICCIÓN PARA EL PRECIO DE IMPORTACIÓN DE LOS PESTICIDAS</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#unidad-2"><i class="fa fa-check"></i><b>1</b> Unidad 2</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="header">
<h1 class="title">Data</h1>
<p class="author"><em></em></p>
<p class="date"><em>2024-05-04</em></p>
</div>
<div id="unidad-2" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> Unidad 2<a href="#unidad-2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<h2>
Actividad 2
</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Cargar el paquete si aún no lo tienes cargado</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span></code></pre></div>
<pre><code>## Warning: package &#39;openxlsx&#39; was built under R version 4.2.3</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Leer el archivo Excel que ya tienes cargado</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>datos <span class="ot">&lt;-</span> <span class="fu">read.xlsx</span>(<span class="st">&quot;importacionestriadadef.xlsx&quot;</span>)</span></code></pre></div>
<h3>
Selección de datos
</h3>
<p>
Se realiza analisis de la informacion de los diferente importadores de pesticidas, se encuentran diversas empresas importadoras y con diversos componentes o prodcutos a importar. al evaluar se identifica que la empresa TRIADA EMA S.A. SUCURSAL COLOMBIA importa un producto llamado Cosmo-Oil que hace parte del grupo de insecticidas, se tienen registros desde el 2010 al 2016, para un total de 73 registros.
</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">summary</span>(datos)</span></code></pre></div>
<pre><code>##     Fecha                Año           Mes              Año-mes         
##  Length:73          Min.   :2010   Length:73          Length:73         
##  Class :character   1st Qu.:2011   Class :character   Class :character  
##  Mode  :character   Median :2013   Mode  :character   Mode  :character  
##                     Mean   :2013                                        
##                     3rd Qu.:2014                                        
##                     Max.   :2016                                        
##  FECHA_PRESENTACION VALOR_FOB_USD    PESTICIDA        
##  Min.   :40210      Min.   :2.828   Length:73         
##  1st Qu.:40756      1st Qu.:3.977   Class :character  
##  Median :41306      Median :4.554   Mode  :character  
##  Mean   :41304      Mean   :4.484                     
##  3rd Qu.:41852      3rd Qu.:4.922                     
##  Max.   :42401      Max.   :7.006</code></pre>
<p>
<p>De total de los datos se seleccionan los campos “Fecha_Presentación” y “Valor_FOB_USD”, este ultimo corresponde al precio por kilo del insecticida.</p>
</p>
<p>
<p>Al importar los datos de excel se requiere organizarlos en orden ascendente de acuerdo a la fecha.</p>
</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Cargar el paquete</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## Warning: package &#39;dplyr&#39; was built under R version 4.2.3</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code></pre></div>
<pre><code>## Warning: package &#39;zoo&#39; was built under R version 4.2.3</code></pre>
<pre><code>## 
## Attaching package: &#39;zoo&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     as.Date, as.Date.numeric</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">library</span>(forecast)</span></code></pre></div>
<pre><code>## Warning: package &#39;forecast&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;quantmod&#39;:
##   method            from
##   as.zoo.data.frame zoo</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>datos_ts <span class="ot">&lt;-</span> <span class="fu">arrange</span>(datos_ts,(FECHA_PRESENTACION))</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a><span class="co">#datos_ts</span></span></code></pre></div>
</p>
<h3>
Media Movil
</h3>
<p>
<p>Para realizar analisìs de tendencia se realiza un promedio movil con k=5 de la variable Valor_FOB_USD y se crea un data set llamado prom_mov.</p>
</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a>prom_mov<span class="ot">=</span><span class="fu">ma</span>(datos_ts<span class="sc">$</span>VALOR_FOB_USD,<span class="at">order =</span> <span class="dv">5</span>, <span class="at">centre =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>prom_mov</span></code></pre></div>
<pre><code>## Time Series:
## Start = 1 
## End = 73 
## Frequency = 1 
##  [1]       NA       NA 3.368692 3.730450 3.877812 4.077921 4.471656 4.583752
##  [9] 4.608738 5.025404 5.090295 5.054085 4.774383 4.816900 4.465862 4.432927
## [17] 4.557135 4.813064 4.693529 4.897979 4.916061 4.890391 4.977916 4.988399
## [25] 4.976256 4.732260 4.823816 4.741042 4.800733 4.807475 4.947747 5.126318
## [33] 4.972514 4.994742 4.948585 4.929106 4.420741 4.679595 4.609523 4.690951
## [41] 4.676087 4.852745 4.759908 4.741657 4.542612 4.612007 4.586572 4.650829
## [49] 4.592363 4.777410 4.735880 4.699770 4.671968 4.760845 4.588653 5.079075
## [57] 4.953583 4.725299 4.610795 4.578098 3.972173 3.976583 3.976583 3.932018
## [65] 3.857693 3.782313 3.671012 3.559557 3.510061 3.500804 3.576183       NA
## [73]       NA</code></pre>
<p>
<p>Los datos que son parte del analisis de serie de tiempos (Cosmo_oil) se transforma en serie de tiempo, iniciando desde el años 2010 y estos estas distribuidos de manera mensual.</p>
</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a>serie<span class="ot">=</span><span class="fu">ts</span>(<span class="at">data=</span>datos_ts, <span class="at">start =</span> <span class="dv">2010</span>,<span class="at">frequency =</span><span class="dv">12</span> )</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="co">#serie</span></span></code></pre></div>
<p>
Para tener los datos con solo la serie de tiempo y el valor en dolares del kilo de insecticida, se elimina el campo fecha que viene del archivo original.
</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>precios_ts<span class="ot">=</span><span class="fu">ts</span>(serie[,<span class="dv">2</span>],<span class="at">start =</span> <span class="dv">2010</span>,<span class="at">frequency =</span> <span class="dv">12</span>)</span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a>precios_ts</span></code></pre></div>
<pre><code>##           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
## 2010 2.828185 2.834620 3.854530 2.916667 4.409457 4.636978 3.571429 4.855076
## 2011 5.179527 4.704291 3.571429 4.974490 3.899573 5.014854 5.325329 4.851072
## 2012 5.288699 4.429228 4.861111 3.885281 5.654762 4.874827 4.727683 4.894822
## 2013 4.664036 4.489247 4.005792 5.400073 4.488467 5.071175 4.414930 4.889079
## 2014 4.761905 5.257170 4.104882 5.001191 4.554254 4.581352 5.118161 4.549266
## 2015 3.976744 3.976744 3.976744 3.975938 3.976744 3.753920 3.605116 3.599848
## 2016 3.976744                                                               
##           Sep      Oct      Nov      Dec
## 2010 4.885341 4.969938 4.761905 5.654762
## 2011 4.376815 4.921825 5.105262 5.196981
## 2012 4.586640 6.547619 4.105804 4.838826
## 2013 4.935887 4.397211 4.075954 4.761905
## 2014 4.140230 7.006366 3.953889 3.976744
## 2015 3.419432 3.419467 3.506439 3.558834
## 2016</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co">#plot(precios_ts)</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co">#install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="co">#install.packages(&quot;forecast&quot;)</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a><span class="co">#install.packages(&quot;purrr&quot;)</span></span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a></span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="fu">library</span>(purrr)</span></code></pre></div>
<pre><code>## Warning: package &#39;purrr&#39; was built under R version 4.2.3</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## Warning: package &#39;tidyverse&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Warning: package &#39;ggplot2&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Warning: package &#39;lubridate&#39; was built under R version 4.2.3</code></pre>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ forcats   1.0.0     ✔ stringr   1.5.0
## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.0
## ✔ readr     2.1.4     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<p>
La secuencia de promedio movil se convierte en serie de tiempo usando la instrucciòn “ts”
</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a>preciosMV_ts<span class="ot">=</span><span class="fu">ts</span>(prom_mov,<span class="at">start =</span> <span class="dv">2010</span>,<span class="at">frequency =</span> <span class="dv">12</span>)</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a>preciosMV_ts</span></code></pre></div>
<pre><code>##           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
## 2010       NA       NA 3.368692 3.730450 3.877812 4.077921 4.471656 4.583752
## 2011 4.774383 4.816900 4.465862 4.432927 4.557135 4.813064 4.693529 4.897979
## 2012 4.976256 4.732260 4.823816 4.741042 4.800733 4.807475 4.947747 5.126318
## 2013 4.420741 4.679595 4.609523 4.690951 4.676087 4.852745 4.759908 4.741657
## 2014 4.592363 4.777410 4.735880 4.699770 4.671968 4.760845 4.588653 5.079075
## 2015 3.972173 3.976583 3.976583 3.932018 3.857693 3.782313 3.671012 3.559557
## 2016       NA                                                               
##           Sep      Oct      Nov      Dec
## 2010 4.608738 5.025404 5.090295 5.054085
## 2011 4.916061 4.890391 4.977916 4.988399
## 2012 4.972514 4.994742 4.948585 4.929106
## 2013 4.542612 4.612007 4.586572 4.650829
## 2014 4.953583 4.725299 4.610795 4.578098
## 2015 3.510061 3.500804 3.576183       NA
## 2016</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="co">#plot(preciosMV_ts)</span></span></code></pre></div>
</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="co">#install.packages(&quot;fpp2&quot;)</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a><span class="fu">library</span>(fpp2)</span></code></pre></div>
<pre><code>## Warning: package &#39;fpp2&#39; was built under R version 4.2.3</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────────────── fpp2 2.5 ──</code></pre>
<pre><code>## ✔ fma       2.5     ✔ expsmooth 2.3</code></pre>
<pre><code>## Warning: package &#39;fma&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Warning: package &#39;expsmooth&#39; was built under R version 4.2.3</code></pre>
<pre><code>## </code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="co">#install.packages(&quot;fpp&quot;)</span></span>
<span id="cb43-2"><a href="#cb43-2" tabindex="-1"></a><span class="fu">library</span>(fpp)</span></code></pre></div>
<pre><code>## Warning: package &#39;fpp&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Loading required package: lmtest</code></pre>
<pre><code>## Warning: package &#39;lmtest&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Loading required package: tseries</code></pre>
<pre><code>## Warning: package &#39;tseries&#39; was built under R version 4.2.3</code></pre>
<pre><code>## 
## Attaching package: &#39;fpp&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:fpp2&#39;:
## 
##     ausair, ausbeer, austa, austourists, debitcards, departures,
##     elecequip, euretail, guinearice, oil, sunspotarea, usmelec</code></pre>
</p>
Se realiza grafica del precio del insecticida y se incluye el comportamiento de la media movil usando valor de K=5
</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" tabindex="-1"></a><span class="fu">autoplot</span>(precios_ts, <span class="at">series=</span><span class="st">&quot;USD/Kilo&quot;</span>) <span class="sc">+</span></span>
<span id="cb51-2"><a href="#cb51-2" tabindex="-1"></a>  <span class="fu">autolayer</span>(preciosMV_ts,<span class="at">series =</span> <span class="st">&quot;Prom_Mov_5&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;USD/Kilo&quot;</span>)<span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">&quot;tiempo&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values (`geom_line()`).</code></pre>
<p><img src="03-Data_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" tabindex="-1"></a>serie_rezago_1 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">lag</span>(precios_ts, <span class="at">k=</span><span class="dv">1</span>)</span>
<span id="cb53-2"><a href="#cb53-2" tabindex="-1"></a>serie_rezago_2 <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">lag</span>(precios_ts, <span class="at">k=</span><span class="dv">2</span>)</span>
<span id="cb53-3"><a href="#cb53-3" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" tabindex="-1"></a>serie_rezago_1</span></code></pre></div>
<pre><code>##           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
## 2009                                                                        
## 2010 2.834620 3.854530 2.916667 4.409457 4.636978 3.571429 4.855076 4.885341
## 2011 4.704291 3.571429 4.974490 3.899573 5.014854 5.325329 4.851072 4.376815
## 2012 4.429228 4.861111 3.885281 5.654762 4.874827 4.727683 4.894822 4.586640
## 2013 4.489247 4.005792 5.400073 4.488467 5.071175 4.414930 4.889079 4.935887
## 2014 5.257170 4.104882 5.001191 4.554254 4.581352 5.118161 4.549266 4.140230
## 2015 3.976744 3.976744 3.975938 3.976744 3.753920 3.605116 3.599848 3.419432
##           Sep      Oct      Nov      Dec
## 2009                            2.828185
## 2010 4.969938 4.761905 5.654762 5.179527
## 2011 4.921825 5.105262 5.196981 5.288699
## 2012 6.547619 4.105804 4.838826 4.664036
## 2013 4.397211 4.075954 4.761905 4.761905
## 2014 7.006366 3.953889 3.976744 3.976744
## 2015 3.419467 3.506439 3.558834 3.976744</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" tabindex="-1"></a>serie_rezago_2</span></code></pre></div>
<pre><code>##           Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
## 2009                                                                        
## 2010 3.854530 2.916667 4.409457 4.636978 3.571429 4.855076 4.885341 4.969938
## 2011 3.571429 4.974490 3.899573 5.014854 5.325329 4.851072 4.376815 4.921825
## 2012 4.861111 3.885281 5.654762 4.874827 4.727683 4.894822 4.586640 6.547619
## 2013 4.005792 5.400073 4.488467 5.071175 4.414930 4.889079 4.935887 4.397211
## 2014 4.104882 5.001191 4.554254 4.581352 5.118161 4.549266 4.140230 7.006366
## 2015 3.976744 3.975938 3.976744 3.753920 3.605116 3.599848 3.419432 3.419467
##           Sep      Oct      Nov      Dec
## 2009                   2.828185 2.834620
## 2010 4.761905 5.654762 5.179527 4.704291
## 2011 5.105262 5.196981 5.288699 4.429228
## 2012 4.105804 4.838826 4.664036 4.489247
## 2013 4.075954 4.761905 4.761905 5.257170
## 2014 3.953889 3.976744 3.976744 3.976744
## 2015 3.506439 3.558834 3.976744</code></pre>
<h3>
Tendencia
</h3>
<p>
<p>Realizando una evaluaciòn de la grafica anterior se observa:</p>
<ul>
<li>
Al finalizar el año el precio del insecticida tiende a subir, lo cual puede ser una estacionalidad en los datos.
</li>
<li>
Al finalizar el 2015 el precio tiende a bajar
</li>
<li>
Se observa un incremento al finalizar el 2011
</li>
<li>
Entre el 2011 y 2025 se tiene valores similares
</li>
</ul>
</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" tabindex="-1"></a><span class="fu">autoplot</span>(precios_ts, <span class="at">series=</span><span class="st">&quot;USD/Kilo&quot;</span>) <span class="sc">+</span> <span class="fu">autolayer</span>(preciosMV_ts,<span class="at">series =</span> <span class="st">&quot;Prom_Mov_5&quot;</span>) <span class="sc">+</span> <span class="fu">autolayer</span>(serie_rezago_1, <span class="at">series=</span><span class="st">&quot;Rezago_1&quot;</span>) <span class="sc">+</span> <span class="fu">autolayer</span>(serie_rezago_2, <span class="at">series=</span><span class="st">&quot;Rezago_2&quot;</span>)<span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;USD/Kilo&quot;</span>)<span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">&quot;tiempo&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 4 rows containing missing values (`geom_line()`).</code></pre>
<p><img src="03-Data_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<h2>
Actividad 3
</h2>
<p>
Se debe documentar la descomposiciòn, la estacinariedad y la diferenciaciòn
</p>
<h3>
Descomposiòn
</h3>
<p>Se realiza grafica de descomposicion de:</p>
<ul>
<li>
Tendencia.
</li>
<li>
Estacionalidad
</li>
<li>
Residuo
</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;ggfortify&quot;</span>, <span class="at">repos =</span> <span class="st">&quot;http://cran.us.r-project.org&quot;</span>)</span></code></pre></div>
<pre><code>## Installing package into &#39;C:/Users/ediss/AppData/Local/R/win-library/4.2&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## package &#39;ggfortify&#39; successfully unpacked and MD5 sums checked
## 
## The downloaded binary packages are in
##  C:\Users\ediss\AppData\Local\Temp\RtmpiUpfyg\downloaded_packages</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a>fit <span class="ot">&lt;-</span><span class="fu">decompose</span>(precios_ts,<span class="at">type =</span> <span class="st">&quot;additive&quot;</span>)</span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a><span class="fu">library</span>(ggfortify)</span></code></pre></div>
<pre><code>## Warning: package &#39;ggfortify&#39; was built under R version 4.2.3</code></pre>
<pre><code>## Registered S3 methods overwritten by &#39;ggfortify&#39;:
##   method                 from    
##   autoplot.Arima         forecast
##   autoplot.acf           forecast
##   autoplot.ar            forecast
##   autoplot.bats          forecast
##   autoplot.decomposed.ts forecast
##   autoplot.ets           forecast
##   autoplot.forecast      forecast
##   autoplot.stl           forecast
##   autoplot.ts            forecast
##   fitted.ar              forecast
##   fortify.ts             forecast
##   residuals.ar           forecast</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="fu">autoplot</span>(fit)<span class="sc">+</span><span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Descomposición de la serie de tiempo&quot;</span>,</span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a>                   <span class="at">x=</span><span class="st">&quot;tiempo&quot;</span>,</span>
<span id="cb65-3"><a href="#cb65-3" tabindex="-1"></a>                   <span class="at">y=</span><span class="st">&quot;Valor USD/Kilo&quot;</span>,</span>
<span id="cb65-4"><a href="#cb65-4" tabindex="-1"></a>                   <span class="at">colour=</span><span class="st">&quot;gears&quot;</span>)<span class="sc">+</span></span>
<span id="cb65-5"><a href="#cb65-5" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 24 rows containing missing values (`geom_line()`).</code></pre>
<img src="03-Data_files/figure-html/unnamed-chunk-12-1.png" width="672" />
<p>
Se observa que hay tendecia al inicio y final de la serie.
Con el fin de evaluar la estacionalidad se debe realizar grafica y prueba de Dickey-Fuller
</p>
<h3>
Estacionalidad
</h3>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a><span class="fu">ggseasonplot</span>(precios_ts)</span></code></pre></div>
<img src="03-Data_files/figure-html/unnamed-chunk-13-1.png" width="672" />
<h3>
Prueba de Dickey- Fuller
</h3>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a>adf_usd <span class="ot">&lt;-</span> <span class="fu">adf.test</span>(precios_ts)</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a>adf_usd</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  precios_ts
## Dickey-Fuller = -3.2774, Lag order = 4, p-value = 0.08223
## alternative hypothesis: stationary</code></pre>
<p>
<p>Dado que el valor p (0.08223) es mayor que un nivel de significancia común como 0.05, no hay suficiente evidencia para rechazar la hipótesis nula de que la serie de tiempo tiene raíces unitarias, lo que sugiere que la serie de tiempo es no estacionaria. Sin embargo, es importante tener en cuenta que el valor p está cerca del nivel de significancia, por lo que podría haber una tendencia hacia la estacionariedad, como lo menciona el resultado “stationary”</p>
<p>Ante este resultado la serie de tiempo se considerarà no estacionaria</p>
Con el fin de identificar la necesidad de validar la necesidad de realizar un ajuste de estacionalidad se hace la prueba ndiffs. el resultado es uno, por lo tanto se realizarà una transformaciòn
</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="fu">ndiffs</span>(precios_ts)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="co">#Funcion de autocorrelacion</span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a><span class="fu">acf</span>(precios_ts)</span></code></pre></div>
<img src="03-Data_files/figure-html/unnamed-chunk-16-1.png" width="672" />
<p>
al realizar un proceso de diferenciaciòn se valida, que ya no es necesario realizar una nueva
</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a><span class="co">#usar diferenciacion</span></span>
<span id="cb73-2"><a href="#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" tabindex="-1"></a>seriedif<span class="ot">=</span><span class="fu">diff</span>(precios_ts)</span>
<span id="cb73-4"><a href="#cb73-4" tabindex="-1"></a><span class="co">#plot(seriedif)</span></span>
<span id="cb73-5"><a href="#cb73-5" tabindex="-1"></a><span class="co">#acf(seriedif)</span></span>
<span id="cb73-6"><a href="#cb73-6" tabindex="-1"></a><span class="fu">ndiffs</span>(seriedif)</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<p>
<p>Se tiene como resultado una serie de tiempo estacional y se puede apreciar al comparar los graficos antes y despues del ajuste diferenciado.</p>
</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>),<span class="at">mar=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>)<span class="sc">+</span>.<span class="dv">1</span>)</span>
<span id="cb75-2"><a href="#cb75-2" tabindex="-1"></a><span class="fu">plot</span>(precios_ts,<span class="at">ylab=</span><span class="st">&quot;USD/Kilo&quot;</span>)</span>
<span id="cb75-3"><a href="#cb75-3" tabindex="-1"></a><span class="fu">acf</span>(precios_ts,<span class="at">main=</span><span class="st">&quot;Serie No Estacionaria&quot;</span>)</span>
<span id="cb75-4"><a href="#cb75-4" tabindex="-1"></a><span class="fu">plot</span>(seriedif)</span>
<span id="cb75-5"><a href="#cb75-5" tabindex="-1"></a><span class="fu">acf</span>(seriedif,<span class="at">main=</span><span class="st">&quot;Serie Estacionaria&quot;</span>)</span></code></pre></div>
<p><img src="03-Data_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="fu">summary</span>(datos)</span></code></pre></div>
<pre><code>##     Fecha                Año           Mes              Año-mes         
##  Length:73          Min.   :2010   Length:73          Length:73         
##  Class :character   1st Qu.:2011   Class :character   Class :character  
##  Mode  :character   Median :2013   Mode  :character   Mode  :character  
##                     Mean   :2013                                        
##                     3rd Qu.:2014                                        
##                     Max.   :2016                                        
##  FECHA_PRESENTACION VALOR_FOB_USD    PESTICIDA        
##  Min.   :40210      Min.   :2.828   Length:73         
##  1st Qu.:40756      1st Qu.:3.977   Class :character  
##  Median :41306      Median :4.554   Mode  :character  
##  Mean   :41304      Mean   :4.484                     
##  3rd Qu.:41852      3rd Qu.:4.922                     
##  Max.   :42401      Max.   :7.006</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a>Sumario <span class="ot">=</span> <span class="fu">summary</span>(datos)</span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a></span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a><span class="fu">capture.output</span>(Sumario, <span class="at">file=</span><span class="st">&quot;Sumario.doc&quot;</span>)</span></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
